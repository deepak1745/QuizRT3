<!--
//Copyright {2016} {NIIT Limited, Wipro Limited}
//
//   Licensed under the Apache License, Version 2.0 (the "License");
//   you may not use this file except in compliance with the License.
//   You may obtain a copy of the License at
//
//       http://www.apache.org/licenses/LICENSE-2.0
//
//   Unless required by applicable law or agreed to in writing, software
//   distributed under the License is distributed on an "AS IS" BASIS,
//   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//   See the License for the specific language governing permissions and
//   limitations under the License.
//
//   Name of Contributors  AS,AK,SM,PS,MM,CCKK
//
-->
<link href='https://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'>
<div class="container" id="main">
	<div class="row" id="Quizzer">
		<div class="col-xs-offset-1 col-xs-9">
			QuizRT
		</div>
		<div class="col-xs-2">
			<a ng-click="logout()" class="glyphicon glyphicon-off">
			</a>
		</div>
	</div>

	<div id="settingsDiv">
		<form class="form-auth" ng-submit="updateProfile()">
			<h3>Profile</h3>
			<p class="text-warning">{{errorMessage}}</p>
			<div id="addProfilePic" class="row">
				<div class="col-xs-3">
					<img src="{{user.imageSrc}}" alt="add photo" id="profilePic"/>
					<input type="file" class="hide" id="inputFile">
					<span ng-show="user.imageSrc" ng-click="removeIcon()">remove</span>
				</div>
				<div class="col-xs-9">
					<p>
						Edit your display name and add your profile picture
					</p>
				</div>
			</div>
			<input type="text" ng-model="user.displayName" placeholder="Name" class="form-control"><br>
			<input type="text" ng-model="user.country"  placeholder="Country" class="form-control"><br>
			<input type="text" ng-model="user.age"  placeholder="Age" class="form-control"><br>
			<input type="text" ng-model="user.imageLink"  placeholder="Email ID" class="form-control"><br>
			<input type="submit" value="Update" class="btn btn-primary" />
			<hr>
			<h5 ng-click="changePasswordOpen?changePasswordOpen=false:changePasswordOpen=true">
				<b>Change password</b><span class="glyphicon glyphicon-triangle-right" ng-hide="changePasswordOpen"></span><span class="glyphicon glyphicon-triangle-bottom" ng-show="changePasswordOpen"></span>
			</h5>
			<div ng-show="changePasswordOpen">
				<div ng-show="passwordMessage" class="alert alert-danger fade in">
					<button role="close" class='close' ng-click="passwordMessage=''" aria-label="close">&times;</button>
					{{passwordMessage}}
				</div>
				<input type="password" ng-model="user.oldPassword" placeholder="Old Password" class="form-control" ><br>
				<input type="password" ng-model="user.newPassword" placeholder="New Password" class="form-control"><br>
				<input type="password" ng-model="user.confirmPassword" placeholder="Confirm Password" class="form-control"><br>
				<button class="btn btn-primary pull-right" ng-click="changePassword(user)" >Change</button>
			</div>
		</form>
	</div>
</div><!-- end #main -->
<footer>
	<div class="container">
		<div class="row">
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userProfile')">
					<span class="glyph glyphicon glyphicon-user"></span>
					<p>Profile</p>
				</div>
			</div>
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userTeams')">
      		<img class="img-responsive" src='images/team_default_64x64.png' alt='Teams Img'>
					<p>Teams</p>
				</div>
			</div>
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userTournaments')">
					<span class="glyph glyphicon glyphicon-globe"></span>
					<p>Tournaments</p>
				</div>
			</div>
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userSettings')">
					<span class="glyph glyphicon glyphicon-cog"></span>
					<p>Settings</p>
				</div>
			</div>
		</div>
	</div>
</footer>
